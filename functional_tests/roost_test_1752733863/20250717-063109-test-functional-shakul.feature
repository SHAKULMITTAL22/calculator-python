Feature: אפליקציית מובייל – בנק ירושלים

Background:
  Given האפליקציה מותקנת
  And מספר הזהות הוא "${USER_ID}"
  And קוד סודי הוא "${SECRET_CODE}"
  And מספר חשבון פנימי הוא "${INTERNAL_ACCOUNT_NUMBER}"
  And מספר חשבון חיצוני הוא "${EXTERNAL_ACCOUNT_NUMBER}"
  And מספר כרטיס אשראי הוא "${CREDIT_CARD_NUMBER}"
  And מספר פנייה הוא "${TICKET_NUMBER}"

Scenario: כניסה לאפליקציה באמצעות מספר זהות וקוד סודי
  When המשתמש מזין מספר זהות וקוד סודי
  And המשתמש לוחץ על 'כניסה'
  Then האפליקציה מופנה לדף הבית של האפליקציה
  And הקוד הסודי נשלח ב-SMS

Scenario: כניסה לאפליקציה באמצעות זיהוי ביומטרי
  When המשתמש בוחר באפשרות הזיהוי הביומטרי
  And המשתמש מבצע זיהוי ביומטרי
  Then האפליקציה מופנה לדף הבית של האפליקציה

Scenario: נעילה אוטומטית לאחר 3 ניסיונות כושלים
  When המשתמש מזין מספר זהות שגוי וקוד סודי שגוי
  And המשתמש לוחץ על 'כניסה'
  And המשתמש חוזר לשלב הזנת מספר זהות וקוד סודי עד 3 פעמים
  Then האפליקציה נעולה אוטומטית

Scenario: צפייה בפרטי חשבון
  When המשתמש מחובר לאפליקציה
  And המשתמש לוחץ על 'פרטי חשבון'
  Then המידע על החשבון מוצג כראוי
  And המידע כולל יתרה כללית, פירוט עסקאות, מספר חשבון ומזהה סניף

Scenario: העברת כספים לחשבון פנימי
  When המשתמש מחובר לאפליקציה
  And המשתמש לוחץ על 'העברות כספים'
  And המשתמש מזין מספר חשבון פנימי וסכום העברה
  And המשתמש לוחץ על 'אישור העברה'
  Then העברה מוצלחת ויתרה בחשבון יורדת בהתאם

Scenario: העברת כספים לחשבון חיצוני
  When המשתמש מחובר לאפליקציה
  And המשתמש לוחץ על 'העברות כספים'
  And המשתמש מזין מספר חשבון חיצוני וסכום העברה
  And המשתמש לוחץ על 'אישור העברה'
  Then העברה מוצלחת ויתרה בחשבון יורדת בהתאם

Scenario: ניהול כרטיסי אשראי
  When המשתמש מחובר לאפליקציה
  And המשתמש לוחץ על 'כרטיסי אשראי'
  Then המידע על כרטיסי האשראי מוצג כראוי
  And המידע כולל יתרה לניצול, פירוט חיובים עתידיים
  And המשתמש יכול לבצע פעולות ניהול (חסימת כרטיס, בקשה לכרטיס חדש)

Scenario: בקשת הלוואה
  When המשתמש מחובר לאפליקציה
  And המשתמש לוחץ על 'בקשת הלוואה'
  And המשתמש מזין פרטי הלוואה (סכום, פריסה)
  And המשתמש לוחץ על 'סימולציה להחזר חודשי'
  And המשתמש לוחץ על 'אישור בקשת הלוואה'
  Then בקשת הלוואה נשלחת וניתן לראות את הסטטוס שלה

Scenario: שירות לקוחות
  When המשתמש מחובר לאפליקציה
  And המשתמש לוחץ על 'שירות לקוחות'
  And המשתמש לוחץ על 'פתיחת פנייה חדשה'
  And המשתמש מזין פרטי הפנייה
  And המשתמש לוחץ על 'שליחת הפנייה'
  Then הפנייה נשלחת וניתן לראות את ההיסטוריה שלה

Scenario: אבטחת מידע
  When המשתמש מותקן את האפליקציה
  Then האפליקציה משתמשת ב-SSL והצפנה

Scenario: זמינות מערכת
  When המשתמש מותקן את האפליקציה
  Then האפליקציה זמינה לפחות 99.5% מהזמן

Scenario: ביצועים
  When המשתמש מותקן את האפליקציה
  And המשתמש מבצע פעולות שונות
  Then האפליקציה מגיבה לכל פעולה תוך 2 שניות

Scenario: תמיכה בשפות
  When המשתמש מותקן את האפליקציה
  And המשתמש שינוי שפת האפליקציה לעברית
  And המשתמש שינוי שפת האפליקציה לאנגלית
  Then האפליקציה תומכת בעברית ואנגלית
